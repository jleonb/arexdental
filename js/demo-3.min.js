"use strict";var demo=function(n,a){function i(){var a=Trianglify({width:n.innerWidth,height:n.innerHeight,cell_size:90,variance:1,stroke_width:2,color_function:function(n,a){return"#0F0D0D"}}).svg();t(a),d()}function t(n){$(s.pattern).append(n),p.paths=[].slice.call(n.childNodes),p.points=[],p.paths.forEach(function(n){$(n).attr("class",l.polygon);var a=n.getBoundingClientRect(),i={x:a.left+a.width/2,y:a.top+a.height/2};p.points.push(i)}),$(s.pattern).removeClass(l.patternHidden)}function d(){var n=$(s.card);$.each(n,function(n,a){var i=new Card(a,n);h[a]={card:i};var t=$(n).find(s.cardImage),d=$(n).find(s.cardClose);$(t).on("click",e.bind(this,!0,a)),$(d).on("click",e.bind(this,!1,a))})}function e(n,a,i){var t=h[a].card;if(!t.isOpen||!n){var d=new TimelineLite({paused:!0}),e=r(a);if(t.isOpen){var c=t.closeCard(),s=.8*c.duration();d.add(c),d.add(e,s)}else d.add(e),d.add(t.openCard(o),0);d.play()}}function r(n){var a=new TimelineLite,i=h[n].card;for(var t in h){var d=h[t].card;d.id===n||i.isOpen||a.add(d.hideCard(),0),d.id!==n&&i.isOpen&&a.add(d.showCard(),0)}return a}function o(n){var a=n.width/2,i={x:n.x,y:n.y};p.points.forEach(function(n,t){c(n,a,i)?$(p.paths[t]).attr("class",l.polygon+" "+l.polygonHidden):$(p.paths[t]).attr("class",l.polygon)})}function c(n,a,i){var t=n.x,d=n.y,e=i.x,r=i.y,o=a*a,c=Math.pow(t-e,2)+Math.pow(d-r,2)<=o;return c}var s={pattern:".pattern",card:".card",cardImage:".card__image",cardClose:".card__btn-close"},l={patternHidden:"pattern--hidden",polygon:"polygon",polygonHidden:"polygon--hidden"},p={paths:null,points:null},h={};return{init:i}}(window);window.onload=demo.init;